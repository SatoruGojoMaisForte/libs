#:import get_color_from_hex kivy.utils.get_color_from_hex

<EvaluationScreen>:
    name: 'Evaluation'
    md_bg_color: 1, 1, 1, 1

    FloatLayout:
        MDIconButton:
            icon: 'border-color'
            theme_font_size: 'Custom'
            font_size: '31dp'
            padding: [120, 0, 0, 0]
            theme_icon_color: 'Custom'
            icon_color: 'black'
            pos_hint: {'center_x': 0.87, 'center_y': 0.94}

        MDIconButton:
            icon: 'arrow-left'
            theme_font_size: 'Custom'
            font_size: '33dp'
            theme_icon_color: 'Custom'
            icon_color: 'black'
            pos_hint: {'center_x': 0.15, 'center_y': 0.95}
            on_release: root.back_table()

        AsyncImage:
            id: perfil
            source: root.avatar
            size_hint: 0.45, 0.45
            pos_hint: {'center_x': 0.5, 'center_y': 0.8}

        MDLabel:
            id: name
            text: root.employee_name
            halign: 'center'
            bold: True
            font_style: 'Title'
            role: 'large'
            pos_hint: {'center_x': 0.5, 'center_y': 0.64}

        MDLabel:
            id: function
            text: root.employee_function
            halign: 'center'
            theme_text_color: 'Custom'
            text_color: 'grey'
            font_style: 'Title'
            role: 'medium'
            pos_hint: {'center_x': 0.5, 'center_y': 0.60}


        MDBoxLayout:
            orientation: 'horizontal'
            pos_hint: {'center_x': 0.5, 'center_y': 0.52}
            theme_bg_color: 'Custom'
            md_bg_color: 'white'  # Cor ajustada para hexadecimal
            padding: [10, 10, 10, 10]  # Aumentado o padding para melhorar o espaçamento
            spacing: 10  # Espaçamento entre os widgets internos
            size_hint: .95, .14  # Altura aumentada para melhorar a visibilidade

            MDCard:
                style: 'elevated'
                theme_bg_color: 'Custom'
                md_bg_color: get_color_from_hex("#009DDC")
                size_hint: .37, 0.85  # Proporção horizontal ajustada
                padding: [10, 10, 10, 0]  # Padding interno
                radius: [10,]

                MDRelativeLayout:
                    MDLabel:
                        id: frequency
                        text: 'Frequência'
                        halign: 'center'
                        theme_text_color: 'Custom'
                        text_color: 'white'
                        pos_hint: {'center_x': 0.5 ,  'center_y': 0.7}

                    MDLabel:
                        id: percentage
                        text: '80%'
                        halign: 'center'
                        theme_text_color: 'Custom'
                        text_color: 'white'
                        pos_hint: {'center_x': 0.5 , 'center_y': 0.3}

            MDCard:
                style: 'elevated'
                theme_bg_color: 'Custom'
                md_bg_color: get_color_from_hex("#009DDC")
                size_hint: .37, 0.85  # Proporção horizontal ajustada
                padding: [10, 10, 10, 0]  # Padding interno
                radius: [10,]

                MDRelativeLayout:

                    MDLabel:
                        id: receive
                        text: 'A receber'
                        halign: 'center'
                        theme_text_color: 'Custom'
                        text_color: 'white'
                        adaptive_height: True
                        pos_hint: {'center_x': 0.5 , 'center_y': 0.7}

                    MDLabel:
                        id: value_salary
                        halign: 'center'
                        theme_text_color: 'Custom'
                        text_color: 'white'
                        pos_hint: {'center_x': 0.5 , 'center_y': 0.3}

        MDScrollView:
            theme_bg_color: 'Custom'
            pos_hint: {'center_x': 0.5, 'center_y': 0.22}
            size_hint: 0.9, 0.4

            MDBoxLayout:
                id: main_scroll
                orientation: "vertical"
                adaptive_height: True

                # Convivencia ------------------------
                MDListItem:
                    on_release: root.next_coexistence()
                    focus_behavior: False
                    theme_bg_color: 'Custom'
                    md_bg_color: 'white'

                    MDListItemLeadingAvatar:
                        source: 'https://res.cloudinary.com/dsmgwupky/image/upload/v1739818607/image_tvhost.png'

                    MDListItemHeadlineText:
                        id: coexistence
                        text: "Convivência"
                        theme_text_color: 'Custom'


                    MDListItemSupportingText:
                        id: text_coexistence
                        text: "Relação com as pessoas"
                        theme_text_color: 'Custom'

                    MDListItemTrailingIcon:
                        icon: "arrow-right-bold-circle"

                # Eficiencia -----

                MDListItem:
                    on_release: root.next_efficiency()
                    focus_behavior: False
                    theme_bg_color: 'Custom'
                    md_bg_color: 'white'
                    MDListItemLeadingAvatar:
                        source: 'https://res.cloudinary.com/dsmgwupky/image/upload/v1739901218/image_lofng6.png'

                    MDListItemHeadlineText:
                        id: efficiency
                        text: "Eficiencia"
                        theme_text_color: 'Custom'

                    MDListItemSupportingText:
                        id: text_efficiency
                        text: "Agilidade e qualidade"
                        theme_text_color: 'Custom'

                    MDListItemTrailingIcon:
                        icon: "arrow-right-bold-circle"

                # Pontualidade -------------------

                MDListItem:
                    on_release: root.next_punctuality()
                    focus_behavior: False
                    theme_bg_color: 'Custom'
                    md_bg_color: 'white'
                    MDListItemLeadingAvatar:
                        source: 'https://res.cloudinary.com/dsmgwupky/image/upload/v1739818621/image_2_avwlwd.png'
                        theme_font_size: 'Custom'
                        font_size: '33dp'

                    MDListItemHeadlineText:
                        id: punctuality
                        text: "Pontualidade"
                        theme_text_color: 'Custom'

                    MDListItemSupportingText:
                        id: text_punctuality
                        text: "Chegar na hora"
                        theme_text_color: 'Custom'

                    MDListItemTrailingIcon:
                        icon: "arrow-right-bold-circle"

                # Frequencia ---------------
                MDListItem:
                    on_release: root.next_working_days()
                    focus_behavior: False
                    theme_bg_color: 'Custom'
                    md_bg_color: 'white'

                    MDListItemLeadingIcon:
                        icon: 'cash-multiple'
                        theme_font_size: 'Custom'
                        font_size: '33dp'

                    MDListItemHeadlineText:
                        theme_text_color: 'Custom'
                        text: "Frequencia"

                    MDListItemSupportingText:
                        id: texts
                        text: root.method_salary
                        theme_text_color: 'Custom'
                        text_color: "green"

                    MDListItemTrailingIcon:
                        icon: "arrow-right-bold-circle"
                # Salario -------------------

                MDListItem:
                    focus_behavior: False
                    theme_bg_color: 'Custom'
                    md_bg_color: 'white'

                    MDListItemLeadingIcon:
                        icon: 'cash-multiple'
                        theme_font_size: 'Custom'
                        font_size: '33dp'

                    MDListItemHeadlineText:
                        id: salary
                        theme_text_color: 'Custom'
                        text: "Salario"

                    MDListItemSupportingText:
                        id: text_salary
                        text: "Salario - faltas"
                        theme_text_color: 'Custom'

                    MDListItemTrailingIcon:
                        icon: "arrow-right-bold-circle"
