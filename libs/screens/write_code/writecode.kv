<WriteCode>:
    name: "write"
    md_bg_color: self.theme_cls.backgroundColor

    FloatLayout:
        MDCard:
            style: 'elevated'
            size_hint: None, None
            size: "40", "40dp"
            pos_hint: {"center_y": 0.95, "center_x": 0.07}
            padding: "16dp"
            size_hint: None, None
            # Sets custom properties.
            theme_shadow_color: "Custom"
            shadow_color: "white"
            theme_bg_color: "Custom"
            md_bg_color: 1, 1, 1, 1
            md_bg_color_disabled: "grey"
            theme_shadow_offset: "Custom"
            shadow_offset: (1, -2)
            theme_shadow_softness: "Custom"
            shadow_softness: 1
            theme_elevation_level: "Custom"
            elevation_level: 2
            radius: [50]
            on_release: root.voltar()

            RelativeLayout:
                MDIconButton:
                    icon: 'arrow-left'
                    pos_hint: {'center_y': 0.5, 'center_x': 0.5}
                    size_hint: None, None
                    halign: 'center'
                    size: '50dp', '50dp'
                    theme_icon_color: 'Custom'
                    icon_color: 'black'
                    on_release: root.voltar()

        MDLabel:
            text: "Verificação de codigo"
            bold: True
            font_style: 'Headline'
            role: 'small'
            halign: 'center'
            pos_hint: {'center_x': 0.5, 'center_y': 0.94}

        MDLabel:
            text: 'Insira o codigo'
            bold: True
            size_hint: None, None
            size: "200dp", "100dp"
            font_style: "Headline"
            role: "small"
            pos_hint: {"center_x": 0.5, "center_y": 0.80}
            halign: "center"

        MDLabel:
            text: '"Enviamos um código de 6 dígitos para o seu e-mail. Insira-o abaixo para validar seu acesso. Caso não tenha recebido, verifique sua caixa de spam."'
            size_hint: None, None
            size: "340dp", "170dp"
            font_style: "Body"
            role: "large"
            pos_hint: {"center_x": 0.5, "center_y": 0.67}
            halign: "center"


        MDCard:
            adaptive_size: True
            pos_hint: {"center_y": 0.5, "center_x": 0.5}
            size_hint: 0.8, 0.1
            theme_bg_color: 'Custom'
            md_bg_color: 1, 1, 1, 1

            MDRelativeLayout:
                MDTextField:
                    id: codigo
                    pos_hint: {"center_y": 0.6, "center_x": 0.5}
                    size_hint: 1, None
                    icon_right: "account"
                    mode: "outlined"
                    theme_line_color: "Custom"
                    line_color_normal: "black"
                    on_text: root.check_text_length()

                    canvas.before:
                        #Color:
                         #   rgba: 1, 0, 0, 1  # Red color
                        Line:
                            rectangle: self.x, self.y, self.width, self.height
                            width: 2

                MDLabel:
                    id: erros
                    text: ''
                    theme_text_color: "Custom"
                    text_color: 'red'
                    bold: True
                    halign: 'right'
                    pos_hint: {"center_y": 0.1, 'center_x': 0.5}
                    font_style: "Label"
                    role: "large"

        MDCard:
            style: 'elevated'
            size_hint: 0.8, 0.07
            pos_hint: {"center_y": 0.2, "center_x": 0.5}
            padding: "16dp"
            # Sets custom properties.
            theme_shadow_color: "Custom"
            shadow_color: "black"
            theme_bg_color: "Custom"
            md_bg_color: 1, 0, 1, 0
            md_bg_color_disabled: "grey"
            theme_shadow_offset: "Custom"
            shadow_offset: (1, -2)
            theme_shadow_softness: "Custom"
            shadow_softness: 1
            theme_elevation_level: "Custom"
            elevation_level: 2
            on_release: root.pegando_usuarios()

            radius: [15]

            BoxLayout:  # Usa BoxLayout para controlar o layout interno do card
                size_hint: 1, 1
                orientation: 'horizontal'
                padding: 0
                spacing: 0

                MDLabel:
                    text: "Verificar"
                    theme_text_color: "Custom"
                    text_color: "white"
                    pos_hint: {"center_x": 0.5, "center_y": 0.5}
                    halign: 'center'
                    font_style: "Title"
                    bold: True
                    role: "medium"