#:import get_color_from_hex kivy.utils.get_color_from_hex
<WorkingMonth>:
    name: 'WorkingMonth'
    md_bg_color: 1, 1, 1, 1

    MDFloatLayout:
        MDBoxLayout:
            orientation: 'vertical'  # Organiza os widgets em uma coluna
            size_hint_y: None
            height: self.minimum_height  # Ajusta a altura do layout para permitir rolagem
            padding: [10, 10, 0, 0]
            spacing: "50dp"
            theme_bg_color: 'Custom'
            md_bg_color: get_color_from_hex('#3498db')
            pos_hint: {'center_x': 0.5, 'top': 1}

            BoxLayout:
                size_hint: 1, None
                height: '60dp'
                padding: [0, 0, 15, 0]

                MDIconButton:
                    icon: 'arrow-left'
                    theme_font_size: 'Custom'
                    font_size: dp(30)
                    height: '60dp'
                    theme_icon_color: 'Custom'
                    icon_color: 'white'
                    on_release: root.bye()

                MDLabel:
                    text: 'Trabalho Mensal'
                    font_style: 'Headline'
                    height: '60dp'
                    theme_text_color: 'Custom'
                    text_color: 'white'
                    role: 'small'
                    bold: True
                    halign: 'center'
                    valign: 'center'
                    padding: [0, 10, 0, 0]
                    pos_hint: {'center_x': 0.5 }

        # Área do gráfico
        MDBoxLayout:
            id: graphic
            orientation: 'vertical'
            size_hint_y: 0.25
            theme_bg_color: 'Custom'
            md_bg_color: 1, 1, 1, 1
            pos_hint: {'center_x': 0.5 ,'center_y': 0.75}
            padding: [dp(10), dp(5), dp(10), dp(5)]

        MDBoxLayout:
            size_hint: 1, 0.05
            theme_bg_color: 'Custom'
            pos_hint: {'center_x': 0.5 ,'center_y': 0.63}
            md_bg_color: 'white'

            MDRelativeLayout:

                MDIcon:
                    icon: 'square'
                    theme_icon_color: 'Custom'
                    icon_color: 0, 0, 1, 1
                    pos_hint: {'center_x': 0.25, 'center_y': 0.5}

                MDLabel:
                    text: 'Presenças'
                    theme_text_color: 'Custom'
                    text_color: 'black'
                    halign: 'center'
                    pos_hint: {'center_x': 0.4, 'center_y': 0.45}

                MDIcon:
                    icon: 'square'
                    theme_icon_color: 'Custom'
                    icon_color: get_color_from_hex('#ff0000')
                    pos_hint: {'center_x': 0.6, 'center_y': 0.5}

                MDLabel:
                    text: 'Faltas'
                    theme_text_color: 'Custom'
                    text_color: 'black'
                    halign: 'center'
                    pos_hint: {'center_x': 0.7, 'center_y': 0.45}

        MDScrollView:
            do_scroll_x: False
            size_hint: 0.8, 0.5
            pos_hint: {'center_x': 0.5 , 'center_y': 0.34}

            MDBoxLayout:
                orientation: 'horizontal'
                theme_bg_color: 'Custom'
                md_bg_color: 'white'

                MDBoxLayout:
                    theme_bg_color: 'Custom'
                    md_bg_color: 'white'
                    orientation: 'vertical'
                    spacing: 5

                    MDCard:
                        id: first_week
                        size_hint: 1, 0.45
                        theme_bg_color: 'Custom'
                        md_bg_color: 'white'
                        on_release: root._next_first_week()

                        MDRelativeLayout:

                            MDLabel:
                                text: 'Semana 1'
                                bold: True
                                font_style: 'Body'
                                role: 'large'
                                halign: 'left'
                                pos_hint: {'center_x': 0.55 , 'center_y': 0.7}

                            MDLabel:
                                text: f'{root.week_1}'
                                font_style: 'Title'
                                role: 'medium'
                                bold: True
                                theme_text_color: 'Custom'
                                text_color: 'blue'
                                halign: 'left'
                                pos_hint: {'center_x': 0.68 , 'center_y': 0.45}

                            MDLabel:
                                id: week_1
                                text: f'70%'
                                font_style: 'Title'
                                role: 'medium'
                                bold: True
                                theme_text_color: 'Custom'
                                text_color: 'blue'
                                halign: 'right'
                                pos_hint: {'center_x': 0.37 , 'center_y': 0.45}

                            MDLabel:
                                text: 'Dias trabalhados'
                                font_style: 'Body'
                                role: 'small'
                                halign: 'left'
                                pos_hint: {'center_x': 0.55 , 'center_y': 0.3}

                            MDLabel:
                                text: 'Presença'
                                font_style: 'Body'
                                role: 'small'
                                halign: 'right'
                                pos_hint: {'center_x': 0.4 , 'center_y': 0.3}

                            MDLinearProgressIndicator:
                                id: progress_1
                                size_hint: 0.9, 0.08
                                indicator_color: 0, 0, 1, 1
                                value: 50
                                pos_hint: {'center_x': .5, 'center_y': .15}


                    MDCard:
                        id: second_week
                        size_hint: 1, 0.45
                        theme_bg_color: 'Custom'
                        md_bg_color: 'white'
                        on_release: root._next_second_week()

                        MDRelativeLayout:
                            MDLabel:
                                text: 'Semana 2'
                                bold: True
                                font_style: 'Body'
                                role: 'large'
                                halign: 'left'
                                pos_hint: {'center_x': 0.55 , 'center_y': 0.7}

                            MDLabel:
                                text: f'{root.week_2}'
                                font_style: 'Title'
                                role: 'medium'
                                bold: True
                                theme_text_color: 'Custom'
                                text_color: 'blue'
                                halign: 'left'
                                pos_hint: {'center_x': 0.68 , 'center_y': 0.45}

                            MDLabel:
                                id: week_2
                                text: f'70%'
                                font_style: 'Title'
                                role: 'medium'
                                bold: True
                                theme_text_color: 'Custom'
                                text_color: 'blue'
                                halign: 'right'
                                pos_hint: {'center_x': 0.37 , 'center_y': 0.45}

                            MDLabel:
                                text: 'Dias trabalhados'
                                font_style: 'Body'
                                role: 'small'
                                halign: 'left'
                                pos_hint: {'center_x': 0.55 , 'center_y': 0.3}

                            MDLabel:
                                text: 'Presença'
                                font_style: 'Body'
                                role: 'small'
                                halign: 'right'
                                pos_hint: {'center_x': 0.4 , 'center_y': 0.3}

                            MDLinearProgressIndicator:
                                id: progress_2
                                size_hint: 0.9, 0.08
                                indicator_color: 0, 0, 1, 1
                                value: 50
                                pos_hint: {'center_x': .5, 'center_y': .15}

                    MDCard:
                        id: third_week
                        size_hint: 1, 0.45
                        theme_bg_color: 'Custom'
                        md_bg_color: 'white'
                        on_release: root._next_third_week()

                        MDRelativeLayout:
                            MDLabel:
                                text: 'Semana 3'
                                bold: True
                                font_style: 'Body'
                                role: 'large'
                                halign: 'left'
                                pos_hint: {'center_x': 0.55 , 'center_y': 0.7}

                            MDLabel:
                                text: f'{root.week_3}'
                                font_style: 'Title'
                                role: 'medium'
                                bold: True
                                theme_text_color: 'Custom'
                                text_color: 'blue'
                                halign: 'left'
                                pos_hint: {'center_x': 0.68 , 'center_y': 0.45}

                            MDLabel:
                                id: week_3
                                text: f'70%'
                                font_style: 'Title'
                                role: 'medium'
                                bold: True
                                theme_text_color: 'Custom'
                                text_color: 'blue'
                                halign: 'right'
                                pos_hint: {'center_x': 0.37 , 'center_y': 0.45}

                            MDLabel:
                                text: 'Dias trabalhados'
                                font_style: 'Body'
                                role: 'small'
                                halign: 'left'
                                pos_hint: {'center_x': 0.55 , 'center_y': 0.3}

                            MDLabel:
                                text: 'Presença'
                                font_style: 'Body'
                                role: 'small'
                                halign: 'right'
                                pos_hint: {'center_x': 0.4 , 'center_y': 0.3}

                            MDLinearProgressIndicator:
                                id: progress_3
                                size_hint: 0.9, 0.08
                                indicator_color: 0, 0, 1, 1
                                value: 50
                                pos_hint: {'center_x': .5, 'center_y': .15}

                    MDCard:
                        id: fourth_week
                        size_hint: 1, 0.45
                        theme_bg_color: 'Custom'
                        md_bg_color: 'white'
                        on_release: root._next_fourth_week()

                        MDRelativeLayout:
                            MDLabel:
                                text: 'Semana 4'
                                bold: True
                                font_style: 'Body'
                                role: 'large'
                                halign: 'left'
                                pos_hint: {'center_x': 0.55 , 'center_y': 0.7}

                            MDLabel:
                                text: f'{root.week_4}'
                                font_style: 'Title'
                                role: 'medium'
                                bold: True
                                theme_text_color: 'Custom'
                                text_color: 'blue'
                                halign: 'left'
                                pos_hint: {'center_x': 0.68 , 'center_y': 0.45}

                            MDLabel:
                                id: week_4
                                text: f'70%'
                                font_style: 'Title'
                                role: 'medium'
                                bold: True
                                theme_text_color: 'Custom'
                                text_color: 'blue'
                                halign: 'right'
                                pos_hint: {'center_x': 0.37 , 'center_y': 0.45}

                            MDLabel:
                                text: 'Dias trabalhados'
                                font_style: 'Body'
                                role: 'small'
                                halign: 'left'
                                pos_hint: {'center_x': 0.55 , 'center_y': 0.3}

                            MDLabel:
                                text: 'Presença'
                                font_style: 'Body'
                                role: 'small'
                                halign: 'right'
                                pos_hint: {'center_x': 0.4 , 'center_y': 0.3}

                            MDLinearProgressIndicator:
                                id: progress_4
                                size_hint: 0.9, 0.08
                                indicator_color: 0, 0, 1, 1
                                value: 50
                                pos_hint: {'center_x': .5, 'center_y': .15}
        MDBoxLayout:
            size_hint: 0.8, 0.065
            theme_bg_color: 'Custom'
            md_bg_color: 1, 1, 1, 1
            pos_hint: {'center_x': 0.5, 'center_y': 0.05}

            MDCard:
                id: again
                theme_bg_color: 'Custom'
                md_bg_color: get_color_from_hex('#3498db')
                theme_line_color: 'Custom'
                line_color: get_color_from_hex('#3498db')
                size_hint: 1, 1
                on_release: root.cancel()

                MDRelativeLayout:
                    MDLabel:
                        text: 'Resetar o mês'
                        theme_text_color: 'Custom'
                        text_color: 'white'
                        bold: True
                        halign: 'center'
                        pos_hint: {'center_x': 0.53 ,'center_y': 0.48}