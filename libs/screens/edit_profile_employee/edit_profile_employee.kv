#import get_color_from_hex kivy.utils.get_color_from_hex

<EditProfileEmployee>:
    name: 'EditProfileEmployee'
    md_bg_color: 1, 1, 1, 1

    FloatLayout:
        MDBoxLayout:
            orientation: 'vertical'  # Organiza os widgets em uma coluna
            size_hint_y: None
            height: self.minimum_height  # Ajusta a altura do layout para permitir rolagem
            padding: [10, 10, 0, 0]
            spacing: "50dp"
            theme_bg_color: 'Custom'
            md_bg_color: get_color_from_hex('#00ABE7')
            pos_hint: {'center_x': 0.5, 'top': 1}

            BoxLayout:
                size_hint: 1, None
                height: '60dp'
                padding: [0, 0, 15, 0]
                MDIconButton:
                    icon: 'arrow-left'
                    theme_font_size: 'Custom'
                    font_size: '37dp'
                    theme_icon_color: 'Custom'
                    icon_color: 'white'
                    pos_hint: {'center_x': 0.1, 'center_y': 0.6}
                    on_release: root.back_evaluation()

                MDLabel:
                    text: 'Editar funcionario'
                    font_style: 'Headline'
                    theme_text_color: 'Custom'
                    text_color: 'white'
                    role: 'medium'
                    bold: True
                    pos_hint: {'center_x': 0.2}
                    halign: 'center'

        AsyncImage:
            id: perfil
            size_hint: 0.45, 0.45
            pos_hint: {"center_x": 0.5, 'center_y': 0.77}
            source: root.avatar

        MDButton:
            pos_hint: {'center_x': 0.5, 'center_y': 0.62}
            on_release: root.open_gallery()
            theme_bg_color: 'Custom'
            md_bg_color: 1, 1, 1, 1
            theme_line_color: 'Custom'
            line_color: 'white'

            MDButtonText:
                text: 'Editar foto'
                theme_text_color: 'Custom'
                font_style: 'Title'
                role: 'medium'
                bold: True
                text_color: get_color_from_hex('#00ABE7')

        MDTextField:
            id: name
            size_hint: 0.8, None
            pos_hint: {'center_x': 0.5, 'center_y': 0.52}
            theme_line_color: 'Custom'
            line_color_normal: 'white'
            line_color_focus: get_color_from_hex('#00ABE7')
            radius: [15,]

            MDTextFieldHintText:
                text: 'Nome do funcionario(a)'
                theme_text_color: 'Custom'
                text_color_focus: get_color_from_hex('#00ABE7')

            MDTextFieldLeadingIcon:
                icon: 'account'
                theme_icon_color: 'Custom'
                icon_color_normal: get_color_from_hex('#00ABE7')
                icon_color_focus: get_color_from_hex('#00ABE7')

        MDTextField:
            id: scale
            size_hint: 0.8, None
            pos_hint: {'center_x': 0.5, 'center_y': 0.43}
            theme_line_color: 'Custom'
            line_color_normal: 'white'
            line_color_focus: get_color_from_hex('#00ABE7')
            radius: [15,]
            on_text: root.text(self, self.text)


            MDTextFieldHintText:
                text: 'Escala de trabalho'
                theme_text_color: 'Custom'
                text_color_focus: get_color_from_hex('#00ABE7')

            MDTextFieldLeadingIcon:
                icon: 'briefcase-clock'
                theme_icon_color: 'Custom'
                icon_color_normal: get_color_from_hex('#00ABE7')
                icon_color_focus: get_color_from_hex('#00ABE7')

        MDCard:
            size_hint: 0.8, 0.12
            focus_behavior: False
            theme_bg_color: 'Custom'
            md_bg_color: 1, 1, 1, 1
            pos_hint: {'center_x': 0.5, 'center_y': 0.31}

            MDRelativeLayout:
                MDTextField:
                    id: salary
                    size_hint: 1, None
                    pos_hint: {'center_x': 0.5, 'center_y': 0.75}
                    theme_line_color: 'Custom'
                    line_color_normal: 'white'
                    line_color_focus: get_color_from_hex('#00ABE7')
                    input_filter: 'float'
                    radius: [15,]
                    on_focus: root.on_salary_focus(self, args[1])

                    MDTextFieldLeadingIcon:
                        icon: 'finance'
                        theme_icon_color: 'Custom'
                        icon_color_normal: get_color_from_hex('#00ABE7')
                        icon_color_focus: get_color_from_hex('#00ABE7')

                    MDTextFieldHintText:

                        text: 'Salario'
                        theme_text_color: 'Custom'
                        text_color_focus: get_color_from_hex('#00ABE7')

                MDLabel:
                    text: 'MÃ©todo de Pagamento'
                    theme_text_color: 'Custom'
                    text_color: 'black'
                    bold: True
                    pos_hint: {'center_x': 0.5, 'center_y': 0.1}

        MDBoxLayout:
            orientation: 'horizontal'
            size_hint: 0.84, 0.15
            pos_hint: {'center_x': 0.5, 'center_y': 0.17}
            theme_bg_color: 'Custom'
            padding: [5,]
            spacing: dp(5)
            md_bg_color: 1, 1, 1, 1

            MDBoxLayout:
                orientation: 'vertical'
                size_hint: 0.5, 1
                spacing: dp(5)
                theme_bg_color: 'Custom'
                md_bg_color: 1, 1, 1, 1

                MDCard:
                    id: card_day
                    size_hint: 1, 0.15
                    theme_bg_color: 'Custom'
                    md_bg_color: 1, 1, 1, 1
                    on_release: root.click_day()
                    theme_line_color: 'Custom'

                    MDRelativeLayout:

                        MDLabel:
                            text: 'Diaria'
                            halign: 'center'
                            pos_hint: {'center_x': 0.5, 'center_y': 0.5}

                MDCard:
                    id: card_month
                    size_hint: 1, 0.15
                    theme_bg_color: 'Custom'
                    md_bg_color: 1, 1, 1, 1
                    theme_line_color: 'Custom'
                    on_release: root.click_month()

                    MDRelativeLayout:

                        MDLabel:
                            text: 'Mensal'
                            halign: 'center'
                            pos_hint: {'center_x': 0.5, 'center_y': 0.5}


            MDBoxLayout:
                orientation: 'vertical'
                size_hint: 0.5, 1
                spacing: dp(5)
                theme_bg_color: 'Custom'
                md_bg_color: 1, 1, 1, 1

                MDCard:
                    id: card_week
                    size_hint: 1, 0.15
                    theme_bg_color: 'Custom'
                    md_bg_color: 1, 1, 1, 1
                    theme_line_color: 'Custom'
                    on_release: root.click_week()

                    MDRelativeLayout:

                        MDLabel:
                            text: 'Semanal'
                            halign: 'center'
                            pos_hint: {'center_x': 0.5, 'center_y': 0.5}

                MDCard:
                    id: card_bricklayer
                    size_hint: 1, 0.15
                    theme_bg_color: 'Custom'
                    md_bg_color: 1, 1, 1, 1
                    theme_line_color: 'Custom'
                    on_release: root.click_bricklayer()

                    MDRelativeLayout:

                        MDLabel:
                            text: 'Empreita'
                            halign: 'center'
                            pos_hint: {'center_x': 0.5, 'center_y': 0.5}
        MDBoxLayout:
            orientation: 'horizontal'
            pos_hint: {'center_x': 0.5, 'center_y': 0.05}
            size_hint: 1, 0.08
            theme_bg_color: 'Custom'
            radius: [10,]
            spacing: dp(5)
            md_bg_color: 'white'
            padding: [15, 0, 15, 0]

            MDCard:
                style: 'elevated'
                size_hint: 0.45, 0.8
                theme_bg_color: 'Custom'
                md_bg_color: 1, 1, 1, 1
                on_release: root.cancel()
                MDRelativeLayout:
                    MDLabel:
                        text: 'Cancelar'
                        bold: True
                        theme_text_color: 'Custom'
                        text_color: 'black'
                        halign: 'center'

            MDCard:
                style: 'elevated'
                size_hint: 0.45, 0.8
                theme_bg_color: 'Custom'
                md_bg_color: 0, 0, 1, 1
                on_release: root.save()

                MDRelativeLayout:
                    MDLabel:
                        text: 'Salvar'
                        bold: True
                        theme_text_color: 'Custom'
                        text_color: 'white'
                        halign: 'center'
