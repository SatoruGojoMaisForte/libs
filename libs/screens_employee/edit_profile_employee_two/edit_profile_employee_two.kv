#: import get_color_from_hex kivy.utils.get_color_from_hex

<EditEmployeeTwo>:
    name: 'EditEmployeeTwo'
    md_bg_color: 1, 1, 1, 1

    MDFloatLayout:
        MDBoxLayout:
            orientation: 'vertical'  # Organiza os widgets em uma coluna
            size_hint_y: None
            height: self.minimum_height  # Ajusta a altura do layout para permitir rolagem
            padding: [10, 10, 0, 0]
            spacing: "50dp"
            theme_bg_color: 'Custom'
            md_bg_color: 1, 1, 1, 1
            pos_hint: {'center_x': 0.5, 'top': 1}

            BoxLayout:
                size_hint: 1, None
                height: '60dp'
                padding: [0, 0, 15, 0]

                MDLabel:
                    text: 'Meu Perfil'
                    font_style: 'Headline'
                    theme_text_color: 'Custom'
                    text_color: 'black'
                    role: 'medium'
                    bold: False
                    pos_hint: {'center_x': 0.2}
                    halign: 'center'

        # Seção de edição de perfil
        MDBoxLayout:
            orientation: 'vertical'
            size_hint: 0.9, 0.1
            spacing: 15
            theme_bg_color: 'Custom'
            md_bg_color: 1, 1, 1, 1
            padding: [10, 10, 10, 10]
            pos_hint: {'center_x': 0.5, 'center_y': 0.82}

            # Título da seção
            MDBoxLayout:
                orientation: 'vertical'
                theme_bg_color: 'Custom'
                md_bg_color: 1, 1, 1, 1
                spacing: '15dp'

                MDBoxLayout:
                    size_hint_y: None
                    height: "40dp"
                    theme_bg_color: 'Custom'
                    md_bg_color: 'white'

                    MDLabel:
                        text: 'Editar Perfil'
                        theme_text_color: 'Custom'
                        text_color: 'black'
                        font_style: 'Title'
                        role: 'large'
                        bold: True

                MDBoxLayout:
                    orientation: 'horizontal'
                    theme_bg_color: 'Custom'
                    md_bg_color: 'white'
                    spacing: 10

                    MDIcon:
                        icon: 'medal'
                        theme_icon_color: 'Custom'
                        icon_color: 'blue'
                        pos_hint: {'center_y': 0.6}

                    MDLabel:
                        text: 'Habilidades'
                        theme_text_color: 'Custom'
                        text_color: 'black'
                        font_style: 'Title'
                        role: 'medium'
                        bold: True
                        pos_hint: {'center_y': 0.5}

                    MDIconButton:
                        icon: 'restart'
                        theme_icon_color: 'Custom'
                        icon_color: 'black'
                        pos_hint: {'center_y': 0.8}
                        on_release: root.restart()

        MDBoxLayout:
            theme_bg_color: 'Custom'
            md_bg_color: 1, 1, 1, 1
            padding: [10, 0, 10, 0]
            size_hint: 0.85, 0.08
            pos_hint: {'center_x': 0.48, 'center_y': 0.73}

            MDRelativeLayout:
                MDScrollView:
                    pos_hint: {'center_x': 0.5, 'center_y': 0.5}
                    do_scroll_y: False
                    do_scroll_x: True
                    size_hint: 1, 1

                    MDBoxLayout:
                        id: main_scroll
                        orientation: "horizontal"
                        size_hint_x: None  # Important for horizontal scrolling
                        width: self.minimum_width  # This line is crucial - add it!
                        theme_bg_color: 'Custom'
                        spacing: '10dp'
                        md_bg_color: 1, 1, 1, 1


        MDBoxLayout:
            size_hint: 0.85, 0.1
            theme_bg_color: 'Custom'
            md_bg_color: 1, 1, 1, 1
            pos_hint: {'center_x': 0.5, 'center_y': 0.64}

            MDRelativeLayout:
                MDTextField:
                    id: skill
                    size_hint: 0.65, None
                    radius: [15,]
                    theme_line_color: 'Custom'
                    line_color_normal: 'grey'
                    line_color_focus: 'blue'

                    MDTextFieldHintText:
                        text: 'Adicionar habilidade'
                        theme_text_color: 'Custom'
                        text_color_normal: 'grey'
                        text_color_focus: 'blue'

                MDCard:
                    size_hint: 0.35, 0.8
                    pos_hint: {'center_x': .85}
                    theme_bg_color: 'Custom'
                    md_bg_color: 0, 0, 1, 1
                    on_release: root.add_skill()

                    MDRelativeLayout:
                        MDLabel:
                            text: 'Adicionar'
                            halign: 'center'
                            theme_text_color: 'Custom'
                            text_color: 'white'
                            bold: True
                            pos_hint: {'center_x': 0.5, 'center_y': 0.5}

        MDBoxLayout:
            orientation: 'vertical'
            size_hint: 0.85, 0.15
            theme_bg_color: 'Custom'
            md_bg_color: 1, 1, 1, 1
            spacing: '10dp'
            pos_hint: {'center_x': 0.5, 'center_y': 0.51}

            MDBoxLayout:
                orientation: 'horizontal'
                theme_bg_color: 'Custom'
                spacing: '10dp'
                radius: [15,]
                md_bg_color: 1, 1, 1, 1

                MDIcon:
                    icon: 'book-open-page-variant'
                    theme_icon_color: 'Custom'
                    icon_color: 'blue'
                    pos_hint: {'center_y': 0.6}

                MDLabel:
                    text: 'Resumo Profissional'
                    theme_text_color: 'Custom'
                    text_color: 'black'
                    font_style: 'Title'
                    role: 'medium'
                    bold: True
                    pos_hint: {'center_y': 0.5}


            MDBoxLayout:
                theme_bg_color: 'Custom'
                md_bg_color: 1, 1, 1, 1
                radius: [15,]

                MDTextField:
                    id: sumary
                    radius: [15,]
                    on_text: root.limitate(self, self.text)
                    MDTextFieldHintText:
                        text: 'Fale sobre você'


        # Espaço extra para garantir rolagem até o final
        MDBoxLayout:
            size_hint: 0.9, 0.07
            pos_hint: {'center_x': 0.5, 'center_y': 0.16}
            theme_bg_color: 'Custom'
            md_bg_color: 1, 1, 1, 1

            MDCard:
                theme_bg_color: 'Custom'
                md_bg_color: 'blue'
                theme_line_color: 'Custom'
                line_color: 'blue'
                on_release: root.step_one()

                MDRelativeLayout:
                    MDIcon:
                        icon: 'border-color'
                        theme_icon_color: 'Custom'
                        icon_color: 'blue'
                        pos_hint: {'center_x': 0.2 ,'center_y': 0.5}

                    MDLabel:
                        text: 'Editar Perfil'
                        theme_text_color: 'Custom'
                        text_color: 'white'
                        bold: True
                        halign: 'center'
                        pos_hint: {'center_x': 0.53 ,'center_y': 0.48}

        MDBoxLayout:
            orientation: 'horizontal'
            size_hint: 0.9, 0.05
            theme_bg_color:'Custom'
            md_bg_color: 'white'
            pos_hint: {'center_x': 0.5, 'center_y': 0.40}

            MDIcon:
                icon: 'map-marker-outline'
                theme_icon_color: 'Custom'
                icon_color: 'blue'
                pos_hint: {'center_x': 0.5, 'center_y': 0.5}

            MDLabel:
                text: 'Localização'
                theme_text_color: 'Custom'
                text_color: 'black'
                bold: True
                pos_hint: {'center_x': 0.5, 'center_y': 0.5}

        MDCard:
            id: card_state
            size_hint: 0.9, 0.07
            height: self.width
            pos_hint: {'center_x': 0.5, 'center_y': 0.33}
            theme_bg_color: 'Custom'
            md_bg_color: get_color_from_hex('#1982C4')
            on_release: root.menu.open()

            MDRelativeLayout:
                MDLabel:
                    id: state
                    text: 'Selecione um Estado'
                    theme_text_color: 'Custom'
                    text_color: 'white'
                    halign: 'left'
                    pos_hint: {'center_x': 0.6, 'center_y': 0.5}

                MDIcon:
                    icon: 'arrow-down'
                    theme_icon_color: 'Custom'
                    icon_color: 'white'
                    pos_hint: {'center_x': 0.9, 'center_y': 0.5}

        MDCard:
            id: card_city
            size_hint: 0.9, 0.07
            height: self.width
            pos_hint: {'center_x': 0.5, 'center_y': 0.25}
            theme_bg_color: 'Custom'
            md_bg_color: get_color_from_hex('#1982C4')
            on_release: root.menu_city.open()

            MDRelativeLayout:
                MDLabel:
                    id: city
                    text: 'Selecione uma cidade'
                    theme_text_color: 'Custom'
                    text_color: 'white'
                    halign: 'left'
                    pos_hint: {'center_x': 0.6, 'center_y': 0.5}

                MDIcon:
                    icon: 'arrow-down'
                    theme_icon_color: 'Custom'
                    icon_color: 'white'
                    pos_hint: {'center_x': 0.9, 'center_y': 0.5}


        # Espaço extra para garantir rolagem até o final
        MDBoxLayout:
            theme_bg_color: 'Custom'
            md_bg_color: 1, 1, 1, 1
            size_hint: 0.9, 0.07
            pos_hint: {'center_x': 0.5, 'center_y': 0.075}

            MDCard:
                theme_bg_color: 'Custom'
                md_bg_color: 1, 1, 1, 1
                theme_line_color: 'Custom'
                line_color: 'blue'

                on_release: root.previous_page()

                MDRelativeLayout:
                    MDLabel:
                        text: 'Etapa anterior'
                        theme_text_color: 'Custom'
                        text_color: 'blue'
                        bold: True
                        halign: 'center'
                        pos_hint: {'center_x': 0.53 ,'center_y': 0.5}

                    MDIcon:
                        icon: 'arrow-left-thin'
                        theme_icon_color: 'Custom'
                        icon_color: 'blue'
                        pos_hint: {'center_x': 0.3 ,'center_y': 0.5}